{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fetchWithAuth = exports.resolveHeadersConstructor = exports.resolveFetch = void 0;\n  const resolveFetch = customFetch => {\n    if (customFetch) {\n      return (...args) => customFetch(...args);\n    }\n    return (...args) => fetch(...args);\n  };\n  exports.resolveFetch = resolveFetch;\n  const resolveHeadersConstructor = () => {\n    return Headers;\n  };\n  exports.resolveHeadersConstructor = resolveHeadersConstructor;\n  const fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n    const fetch = (0, exports.resolveFetch)(customFetch);\n    const HeadersConstructor = (0, exports.resolveHeadersConstructor)();\n    return async (input, init) => {\n      var _a;\n      const accessToken = (_a = await getAccessToken()) !== null && _a !== void 0 ? _a : supabaseKey;\n      let headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n      if (!headers.has('apikey')) {\n        headers.set('apikey', supabaseKey);\n      }\n      if (!headers.has('Authorization')) {\n        headers.set('Authorization', `Bearer ${accessToken}`);\n      }\n      return fetch(input, Object.assign(Object.assign({}, init), {\n        headers\n      }));\n    };\n  };\n  exports.fetchWithAuth = fetchWithAuth;\n});","lineCount":38,"map":[[2,2,1,0],[2,14,1,12],[4,2,2,0,"Object"],[4,8,2,6],[4,9,2,7,"defineProperty"],[4,23,2,21],[4,24,2,22,"exports"],[4,31,2,29],[4,33,2,31],[4,45,2,43],[4,47,2,45],[5,4,2,47,"value"],[5,9,2,52],[5,11,2,54],[6,2,2,59],[6,3,2,60],[6,4,2,61],[7,2,3,0,"exports"],[7,9,3,7],[7,10,3,8,"fetchWithAuth"],[7,23,3,21],[7,26,3,24,"exports"],[7,33,3,31],[7,34,3,32,"resolveHeadersConstructor"],[7,59,3,57],[7,62,3,60,"exports"],[7,69,3,67],[7,70,3,68,"resolveFetch"],[7,82,3,80],[7,85,3,83],[7,90,3,88],[7,91,3,89],[8,2,4,0],[8,8,4,6,"resolveFetch"],[8,20,4,18],[8,23,4,22,"customFetch"],[8,34,4,33],[8,38,4,38],[9,4,5,4],[9,8,5,8,"customFetch"],[9,19,5,19],[9,21,5,21],[10,6,6,8],[10,13,6,15],[10,14,6,16],[10,17,6,19,"args"],[10,21,6,23],[10,26,6,28,"customFetch"],[10,37,6,39],[10,38,6,40],[10,41,6,43,"args"],[10,45,6,47],[10,46,6,48],[11,4,7,4],[12,4,8,4],[12,11,8,11],[12,12,8,12],[12,15,8,15,"args"],[12,19,8,19],[12,24,8,24,"fetch"],[12,29,8,29],[12,30,8,30],[12,33,8,33,"args"],[12,37,8,37],[12,38,8,38],[13,2,9,0],[13,3,9,1],[14,2,10,0,"exports"],[14,9,10,7],[14,10,10,8,"resolveFetch"],[14,22,10,20],[14,25,10,23,"resolveFetch"],[14,37,10,35],[15,2,11,0],[15,8,11,6,"resolveHeadersConstructor"],[15,33,11,31],[15,36,11,34,"resolveHeadersConstructor"],[15,37,11,34],[15,42,11,40],[16,4,12,4],[16,11,12,11,"Headers"],[16,18,12,18],[17,2,13,0],[17,3,13,1],[18,2,14,0,"exports"],[18,9,14,7],[18,10,14,8,"resolveHeadersConstructor"],[18,35,14,33],[18,38,14,36,"resolveHeadersConstructor"],[18,63,14,61],[19,2,15,0],[19,8,15,6,"fetchWithAuth"],[19,21,15,19],[19,24,15,22,"fetchWithAuth"],[19,25,15,23,"supabaseKey"],[19,36,15,34],[19,38,15,36,"getAccessToken"],[19,52,15,50],[19,54,15,52,"customFetch"],[19,65,15,63],[19,70,15,68],[20,4,16,4],[20,10,16,10,"fetch"],[20,15,16,15],[20,18,16,18],[20,19,16,19],[20,20,16,20],[20,22,16,22,"exports"],[20,29,16,29],[20,30,16,30,"resolveFetch"],[20,42,16,42],[20,44,16,44,"customFetch"],[20,55,16,55],[20,56,16,56],[21,4,17,4],[21,10,17,10,"HeadersConstructor"],[21,28,17,28],[21,31,17,31],[21,32,17,32],[21,33,17,33],[21,35,17,35,"exports"],[21,42,17,42],[21,43,17,43,"resolveHeadersConstructor"],[21,68,17,68],[21,70,17,70],[21,71,17,71],[22,4,18,4],[22,11,18,11],[22,18,18,18,"input"],[22,23,18,23],[22,25,18,25,"init"],[22,29,18,29],[22,34,18,34],[23,6,19,8],[23,10,19,12,"_a"],[23,12,19,14],[24,6,20,8],[24,12,20,14,"accessToken"],[24,23,20,25],[24,26,20,28],[24,27,20,29,"_a"],[24,29,20,31],[24,32,20,35],[24,38,20,41,"getAccessToken"],[24,52,20,55],[24,53,20,56],[24,54,20,58],[24,60,20,64],[24,64,20,68],[24,68,20,72,"_a"],[24,70,20,74],[24,75,20,79],[24,80,20,84],[24,81,20,85],[24,84,20,88,"_a"],[24,86,20,90],[24,89,20,93,"supabaseKey"],[24,100,20,104],[25,6,21,8],[25,10,21,12,"headers"],[25,17,21,19],[25,20,21,22],[25,24,21,26,"HeadersConstructor"],[25,42,21,44],[25,43,21,45,"init"],[25,47,21,49],[25,52,21,54],[25,56,21,58],[25,60,21,62,"init"],[25,64,21,66],[25,69,21,71],[25,74,21,76],[25,75,21,77],[25,78,21,80],[25,83,21,85],[25,84,21,86],[25,87,21,89,"init"],[25,91,21,93],[25,92,21,94,"headers"],[25,99,21,101],[25,100,21,102],[26,6,22,8],[26,10,22,12],[26,11,22,13,"headers"],[26,18,22,20],[26,19,22,21,"has"],[26,22,22,24],[26,23,22,25],[26,31,22,33],[26,32,22,34],[26,34,22,36],[27,8,23,12,"headers"],[27,15,23,19],[27,16,23,20,"set"],[27,19,23,23],[27,20,23,24],[27,28,23,32],[27,30,23,34,"supabaseKey"],[27,41,23,45],[27,42,23,46],[28,6,24,8],[29,6,25,8],[29,10,25,12],[29,11,25,13,"headers"],[29,18,25,20],[29,19,25,21,"has"],[29,22,25,24],[29,23,25,25],[29,38,25,40],[29,39,25,41],[29,41,25,43],[30,8,26,12,"headers"],[30,15,26,19],[30,16,26,20,"set"],[30,19,26,23],[30,20,26,24],[30,35,26,39],[30,37,26,41],[30,47,26,51,"accessToken"],[30,58,26,62],[30,60,26,64],[30,61,26,65],[31,6,27,8],[32,6,28,8],[32,13,28,15,"fetch"],[32,18,28,20],[32,19,28,21,"input"],[32,24,28,26],[32,26,28,28,"Object"],[32,32,28,34],[32,33,28,35,"assign"],[32,39,28,41],[32,40,28,42,"Object"],[32,46,28,48],[32,47,28,49,"assign"],[32,53,28,55],[32,54,28,56],[32,55,28,57],[32,56,28,58],[32,58,28,60,"init"],[32,62,28,64],[32,63,28,65],[32,65,28,67],[33,8,28,69,"headers"],[34,6,28,77],[34,7,28,78],[34,8,28,79],[34,9,28,80],[35,4,29,4],[35,5,29,5],[36,2,30,0],[36,3,30,1],[37,2,31,0,"exports"],[37,9,31,7],[37,10,31,8,"fetchWithAuth"],[37,23,31,21],[37,26,31,24,"fetchWithAuth"],[37,39,31,37],[38,0,31,38],[38,3]],"functionMap":{"names":["<global>","resolveFetch","<anonymous>","resolveHeadersConstructor","fetchWithAuth"],"mappings":"AAA;qBCG;eCE,iCD;WCE,2BD;CDC;kCGE;CHE;sBIE;WFG;KEW;CJC"},"hasCjsExports":true},"type":"js/module"}]}