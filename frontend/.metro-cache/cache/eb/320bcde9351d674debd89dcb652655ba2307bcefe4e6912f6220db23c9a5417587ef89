{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _asyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\").default;\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.fetchWithAuth = exports.resolveHeadersConstructor = exports.resolveFetch = void 0;\n  var resolveFetch = customFetch => {\n    if (customFetch) {\n      return function () {\n        return customFetch(...arguments);\n      };\n    }\n    return function () {\n      return fetch(...arguments);\n    };\n  };\n  exports.resolveFetch = resolveFetch;\n  var resolveHeadersConstructor = () => {\n    return Headers;\n  };\n  exports.resolveHeadersConstructor = resolveHeadersConstructor;\n  var fetchWithAuth = (supabaseKey, getAccessToken, customFetch) => {\n    var fetch = (0, exports.resolveFetch)(customFetch);\n    var HeadersConstructor = (0, exports.resolveHeadersConstructor)();\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (input, init) {\n        var _a;\n        var accessToken = (_a = yield getAccessToken()) !== null && _a !== void 0 ? _a : supabaseKey;\n        var headers = new HeadersConstructor(init === null || init === void 0 ? void 0 : init.headers);\n        if (!headers.has('apikey')) {\n          headers.set('apikey', supabaseKey);\n        }\n        if (!headers.has('Authorization')) {\n          headers.set('Authorization', `Bearer ${accessToken}`);\n        }\n        return fetch(input, Object.assign(Object.assign({}, init), {\n          headers\n        }));\n      });\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  };\n  exports.fetchWithAuth = fetchWithAuth;\n});","lineCount":48,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_asyncToGenerator"],[4,23,1,13],[4,26,1,13,"require"],[4,33,1,13],[4,34,1,13,"_dependencyMap"],[4,48,1,13],[4,96,1,13,"default"],[4,103,1,13],[5,2,2,0,"Object"],[5,8,2,6],[5,9,2,7,"defineProperty"],[5,23,2,21],[5,24,2,22,"exports"],[5,31,2,29],[5,33,2,31],[5,45,2,43],[5,47,2,45],[6,4,2,47,"value"],[6,9,2,52],[6,11,2,54],[7,2,2,59],[7,3,2,60],[7,4,2,61],[8,2,3,0,"exports"],[8,9,3,7],[8,10,3,8,"fetchWithAuth"],[8,23,3,21],[8,26,3,24,"exports"],[8,33,3,31],[8,34,3,32,"resolveHeadersConstructor"],[8,59,3,57],[8,62,3,60,"exports"],[8,69,3,67],[8,70,3,68,"resolveFetch"],[8,82,3,80],[8,85,3,83],[8,90,3,88],[8,91,3,89],[9,2,4,0],[9,6,4,6,"resolveFetch"],[9,18,4,18],[9,21,4,22,"customFetch"],[9,32,4,33],[9,36,4,38],[10,4,5,4],[10,8,5,8,"customFetch"],[10,19,5,19],[10,21,5,21],[11,6,6,8],[11,13,6,15],[12,8,6,15],[12,15,6,28,"customFetch"],[12,26,6,39],[12,27,6,40],[12,30,6,40,"arguments"],[12,39,6,47],[12,40,6,48],[13,6,6,48],[14,4,7,4],[15,4,8,4],[15,11,8,11],[16,6,8,11],[16,13,8,24,"fetch"],[16,18,8,29],[16,19,8,30],[16,22,8,30,"arguments"],[16,31,8,37],[16,32,8,38],[17,4,8,38],[18,2,9,0],[18,3,9,1],[19,2,10,0,"exports"],[19,9,10,7],[19,10,10,8,"resolveFetch"],[19,22,10,20],[19,25,10,23,"resolveFetch"],[19,37,10,35],[20,2,11,0],[20,6,11,6,"resolveHeadersConstructor"],[20,31,11,31],[20,34,11,34,"resolveHeadersConstructor"],[20,35,11,34],[20,40,11,40],[21,4,12,4],[21,11,12,11,"Headers"],[21,18,12,18],[22,2,13,0],[22,3,13,1],[23,2,14,0,"exports"],[23,9,14,7],[23,10,14,8,"resolveHeadersConstructor"],[23,35,14,33],[23,38,14,36,"resolveHeadersConstructor"],[23,63,14,61],[24,2,15,0],[24,6,15,6,"fetchWithAuth"],[24,19,15,19],[24,22,15,22,"fetchWithAuth"],[24,23,15,23,"supabaseKey"],[24,34,15,34],[24,36,15,36,"getAccessToken"],[24,50,15,50],[24,52,15,52,"customFetch"],[24,63,15,63],[24,68,15,68],[25,4,16,4],[25,8,16,10,"fetch"],[25,13,16,15],[25,16,16,18],[25,17,16,19],[25,18,16,20],[25,20,16,22,"exports"],[25,27,16,29],[25,28,16,30,"resolveFetch"],[25,40,16,42],[25,42,16,44,"customFetch"],[25,53,16,55],[25,54,16,56],[26,4,17,4],[26,8,17,10,"HeadersConstructor"],[26,26,17,28],[26,29,17,31],[26,30,17,32],[26,31,17,33],[26,33,17,35,"exports"],[26,40,17,42],[26,41,17,43,"resolveHeadersConstructor"],[26,66,17,68],[26,68,17,70],[26,69,17,71],[27,4,18,4],[28,6,18,4],[28,10,18,4,"_ref"],[28,14,18,4],[28,17,18,4,"_asyncToGenerator"],[28,34,18,4],[28,35,18,11],[28,46,18,18,"input"],[28,51,18,23],[28,53,18,25,"init"],[28,57,18,29],[28,59,18,34],[29,8,19,8],[29,12,19,12,"_a"],[29,14,19,14],[30,8,20,8],[30,12,20,14,"accessToken"],[30,23,20,25],[30,26,20,28],[30,27,20,29,"_a"],[30,29,20,31],[30,38,20,41,"getAccessToken"],[30,52,20,55],[30,53,20,56],[30,54,20,58],[30,60,20,64],[30,64,20,68],[30,68,20,72,"_a"],[30,70,20,74],[30,75,20,79],[30,80,20,84],[30,81,20,85],[30,84,20,88,"_a"],[30,86,20,90],[30,89,20,93,"supabaseKey"],[30,100,20,104],[31,8,21,8],[31,12,21,12,"headers"],[31,19,21,19],[31,22,21,22],[31,26,21,26,"HeadersConstructor"],[31,44,21,44],[31,45,21,45,"init"],[31,49,21,49],[31,54,21,54],[31,58,21,58],[31,62,21,62,"init"],[31,66,21,66],[31,71,21,71],[31,76,21,76],[31,77,21,77],[31,80,21,80],[31,85,21,85],[31,86,21,86],[31,89,21,89,"init"],[31,93,21,93],[31,94,21,94,"headers"],[31,101,21,101],[31,102,21,102],[32,8,22,8],[32,12,22,12],[32,13,22,13,"headers"],[32,20,22,20],[32,21,22,21,"has"],[32,24,22,24],[32,25,22,25],[32,33,22,33],[32,34,22,34],[32,36,22,36],[33,10,23,12,"headers"],[33,17,23,19],[33,18,23,20,"set"],[33,21,23,23],[33,22,23,24],[33,30,23,32],[33,32,23,34,"supabaseKey"],[33,43,23,45],[33,44,23,46],[34,8,24,8],[35,8,25,8],[35,12,25,12],[35,13,25,13,"headers"],[35,20,25,20],[35,21,25,21,"has"],[35,24,25,24],[35,25,25,25],[35,40,25,40],[35,41,25,41],[35,43,25,43],[36,10,26,12,"headers"],[36,17,26,19],[36,18,26,20,"set"],[36,21,26,23],[36,22,26,24],[36,37,26,39],[36,39,26,41],[36,49,26,51,"accessToken"],[36,60,26,62],[36,62,26,64],[36,63,26,65],[37,8,27,8],[38,8,28,8],[38,15,28,15,"fetch"],[38,20,28,20],[38,21,28,21,"input"],[38,26,28,26],[38,28,28,28,"Object"],[38,34,28,34],[38,35,28,35,"assign"],[38,41,28,41],[38,42,28,42,"Object"],[38,48,28,48],[38,49,28,49,"assign"],[38,55,28,55],[38,56,28,56],[38,57,28,57],[38,58,28,58],[38,60,28,60,"init"],[38,64,28,64],[38,65,28,65],[38,67,28,67],[39,10,28,69,"headers"],[40,8,28,77],[40,9,28,78],[40,10,28,79],[40,11,28,80],[41,6,29,4],[41,7,29,5],[42,6,29,5],[42,23,29,5,"_x"],[42,25,29,5],[42,27,29,5,"_x2"],[42,30,29,5],[43,8,29,5],[43,15,29,5,"_ref"],[43,19,29,5],[43,20,29,5,"apply"],[43,25,29,5],[43,32,29,5,"arguments"],[43,41,29,5],[44,6,29,5],[45,4,29,5],[46,2,30,0],[46,3,30,1],[47,2,31,0,"exports"],[47,9,31,7],[47,10,31,8,"fetchWithAuth"],[47,23,31,21],[47,26,31,24,"fetchWithAuth"],[47,39,31,37],[48,0,31,38],[48,3]],"functionMap":{"names":["<global>","resolveFetch","<anonymous>","resolveHeadersConstructor","fetchWithAuth"],"mappings":"AAA;qBCG;eCE,iCD;WCE,2BD;CDC;kCGE;CHE;sBIE;WFG;KEW;CJC"},"hasCjsExports":true},"type":"js/module"}]}